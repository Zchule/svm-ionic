{"version":3,"sources":["../../src/pages/map-supervisor/map-supervisor.module.ts","../../src/pages/map-supervisor/map-supervisor.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MapSupervisorPage } from './map-supervisor';\n\n@NgModule({\n  declarations: [\n    MapSupervisorPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapSupervisorPage),\n  ],\n})\nexport class MapSupervisorPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map-supervisor/map-supervisor.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams, MenuController, Loading, LoadingController, AlertController} from 'ionic-angular';\nimport { Subscription } from 'rxjs/Subscription';\nimport { MapService } from '../../providers/map.service';\nimport { Network } from '@ionic-native/network';\n\ndeclare var google;\n\n@IonicPage(//{\n//   name: 'mapa',\n//   segment: 'mapa/:key'\n// })\n)\n\n@Component({\n  selector: 'page-map-supervisor',\n  templateUrl: 'map-supervisor.html',\n})\nexport class MapSupervisorPage {\n\n  map: any;\n  key: string;\n  name: string;\n  load: Loading;\n  myPosition: any = {};\n  infowindow: any;\n  fecha: string;\n  markerVendedor: any = null;\n  geoList = {};\n  linesPath: any = null;\n  hora: string;\n  isCenter = false;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(\n    private navParams: NavParams,\n    private loadCtrl: LoadingController,\n    private mapService: MapService,\n    private menuCtrl: MenuController,\n    private alertCtrl: AlertController,\n    private network: Network\n  ) {\n    this.key = this.navParams.get('key');\n    this.name = this.navParams.get('name');\n    this.infowindow = new google.maps.InfoWindow();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MapSupervisorPage');\n    this.load = this.loadCtrl.create({\n      content: 'Cargando...'\n    });\n    this.load.present();\n    const subscriptionFechaServidor = this.mapService.getFechaServidor()\n    .valueChanges()\n    .subscribe((data: any) => {\n      this.fecha = data.fecha;\n      this.loadMap();\n    });\n    this.subscriptions.push(subscriptionFechaServidor);\n    this.verificarConexion();\n  }\n\n  ionViewDidEnter() {\n    this.menuCtrl.enable(false, 'menuSuper');\n  }\n\n  ionViewDidLeave() {\n    this.subscriptions.forEach((subscription) => {\n      subscription.unsubscribe();\n    });\n  }\n\n  private verificarConexion() {\n    if (this.network.type === 'none') {\n      console.log(this.network.type);\n      const alert = this.alertCtrl.create({\n        title: 'Sin conexiÃ³n',\n        subTitle: 'Mapa sin conexion',\n        buttons: ['OK']\n      });\n      alert.present();\n      this.load.dismiss();\n    }\n  }\n\n  private loadMap() {\n    // create a new map by passing HTMLElement\n    const mapEle: HTMLElement = document.getElementById('map');\n\n    const latitud = -17.2378799;\n    const longitud = -66.7239997;\n\n    // create LatLng object\n    const myLatLng = { lat: latitud, lng: longitud };\n    // create map\n    this.map = new google.maps.Map(mapEle, {\n      center: myLatLng,\n      zoom: 12\n    });\n\n    google.maps.event.addListenerOnce(this.map, 'idle', () => {\n      mapEle.classList.add('show-map');\n      this.load.dismiss();\n      // this.obtenerSupervisor();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map-supervisor/map-supervisor.ts"],"sourceRoot":""}